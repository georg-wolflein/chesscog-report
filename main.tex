\documentclass[a4paper,oneside]{book}
\usepackage[utf8]{inputenc}
\usepackage{breakcites} % don't let citations break out of the text frame
\usepackage{microtype} % get rid of some frame busts automatically
\usepackage[font=small]{caption}
\usepackage{csquotes}
\usepackage{fancyhdr}
\usepackage[british]{babel}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pdfpages}
\usepackage[hidelinks]{hyperref}
\usepackage[inline]{enumitem}
\usepackage[style=ieee,mincitenames=1,maxcitenames=2]{biblatex}
\usepackage{todonotes}
\usepackage[toc,acronym]{glossaries}
\usepackage{cleveref}
\usepackage{subfiles}


\AtEndDocument{%
    \ifSubfilesClassLoaded{%
        \printglossary[type=\acronymtype]%
        \printbibliography%
    }{}%
}


\usetikzlibrary{patterns,calc,angles,quotes}
\pgfplotsset{width=7cm,compat=1.17}

\DeclareRobustCommand{\[}{\begin{equation}}
\DeclareRobustCommand{\]}{\end{equation}}
\DeclareRobustCommand{\(}{\begin{equation*}}
\DeclareRobustCommand{\)}{\end{equation*}}

\def\normal{\mathcal{N}}
\renewcommand\vec{\mathbf}

\pagestyle{fancy}
\fancyhf{}
\lhead{\textit{\leftmark}}
\cfoot{\thepage}

\addbibresource{\subfix{bib/dissertation.bib}}
\graphicspath{ {./images/} }

\author{Georg WÃ¶lflein}
\title{MSci Project}

\makeglossaries
\input{common/acronyms.tex}
\input{common/math_commands.tex}

\setcounter{tocdepth}{1}
\setcounter{secnumdepth}{3}

\allowdisplaybreaks

\begin{document}

%TC:ignore
\frontmatter
\input{common/title_page.tex}
\subfile{chapters/declaration}
\tableofcontents
\listoffigures
\subfile{chapters/notation}
%TC:endignore

\mainmatter
\subfile{chapters/introduction}
\subfile{chapters/design}
\subfile{chapters/implementation}

\printglossary[type=\acronymtype]
\printbibliography[heading=bibintoc]

%TC:ignore
\appendix
\subfile{chapters/appendix/user_manual}
\subfile{chapters/appendix/ethics_form}
%TC:endignore

\end{document}